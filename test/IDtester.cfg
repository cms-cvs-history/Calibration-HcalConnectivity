
  process TEST = {

   service = MessageLogger
   {
      untracked vstring destinations = {"cout"}

      untracked  vstring categories = { "FwkJob","FwkReport","DDLParser" }      

       untracked PSet cout = 
      {
         untracked PSet INFO = { untracked int32 limit = -1 }
         untracked PSet DDLParser = {untracked int32 limit = 0 }
         untracked PSet WARNING  = { untracked int32 limit = -10 } 
         untracked PSet ERROR = { untracked int32 limit = -1 }
	 untracked PSet FwkJob   = { untracked int32 limit = 2 } 
	 untracked PSet FwkReport   = { untracked int32 limit = 0 }
      }
   }


	source = HcalTBSource {

// ENTER FILE NAME WITH FULL PATH
	  untracked vstring fileNames={'file:/home/usrname/CMSSW_1_1_1/src/Calibration/HcalConnectivity/test/HTB_000000.root'}

//INCREASE NUMBER TO TAKE THE MODE (MAJORITY) VALUE OF EVENTS
	   untracked int32 maxEvents=10  
	 
//ENTER DCC NUMBERS IN HCAL_DCC000 FORMAT, HCAL_DCC020 IS AN EXAMPLE
	  untracked vstring streams = {'HCAL_Trigger','HCAL_DCC020'}
	}

include "EventFilter/HcalRawToDigi/data/HcalRawToDigi-tb.cfi"

replace hcalDigis.FilterDataQuality=false
  //ENETER HcalFirstFED
replace hcalDigis.HcalFirstFED=19
  //ENTER DCC NUMBERS, SAME AS ABOVE, BUT NO HCAL_DCC PREFIX
replace hcalDigis.FEDs={20}

module myanalyzer = HcalCableMapper {
  InputTag hbheLabel=hcalDigis
  InputTag hoLabel=hcalDigis
  InputTag hfLabel=hcalDigis
}

es_module = HcalDbProducer {}
es_source es_hardcode = HcalHardcodeCalibrations { 
  untracked vstring toGet= {"Pedestals","Gains","PedestalWidths", "GainWidths", "QIEShape", "QIEData", "ChannelQuality" }
}

es_source es_ascii = HcalTextCalibrations { VPSet input = 
{ {
string object="ElectronicsMap"

//CHOOSE MAP APPRIATE TO DETECTOR YOU'RE USING
FileInPath file="Calibration/HcalConnectivity/test/hcal_generic.txt"
} }
}

module dump = HcalDigiDump { }

path p = {dump,hcalDigis,myanalyzer}
}
